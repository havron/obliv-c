<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Obliv-C Tutorial by samuelhavron</title>
  </head>

  <body>
    <a id="top"></a>
    <header>
      <div class="inner">
        <h1>Obliv-C Tutorial</h1>
        <h2></h2>
        <a href="https://github.com/samuelhavron/obliv-c" class="button"><small>View project on</small> GitHub</a>
         <ul id="nav">
      <li><a href="http://samuelhavron.github.io">Home</a></li>
      <li><a href="http://samuelhavron.github.io/obliv-c">Obliv-C Tutorial</a></li>
      <li><a href="http://samuelhavron.github.io/obliv-c/documentation">Obliv-C Documentation</a></li>
      <li><a href="http://samuelhavron.github.io/contact">Contact</a></li>
      <li><a href="http://samuelhavron.github.io/about">About</a></li>
   </ul>
   
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="introduction-to-obliv-c" class="anchor" href="#introduction-to-obliv-c" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction to Obliv-C</h1>

<p> <b>NOTE: This webpage is currently being written and is subject to change frequently.</b><br>Obliv-C is a lightweight GCC wrapper that makes it simple for multiple parties to compute a joint function on their private inputs. 
A full description of the language can be found <a href="http://www.oblivc.org">here</a>. 
The language comes with numerous built-in protocols which allow a programmer to quickly implement a secure multiparty computation. 
One particularly useful application of Obliv-C is in allowing for <a href="#linReg">aggregate data analysis</a> from private datasets.
Check out the <a href="http://samuelhavron.github.io/obliv-c/documentation">documentation</a> on various built-in functionality.</p>
  
  <h2>Setting up the Obliv-C Environment</h2>
  <p><b>Installation for Ubuntu systems:</b>
  <ol>
    <li>Run <code>sudo apt-get install ocaml libgcrypt20-dev</code> in the Terminal.</li>
    <li>Clone the repository with <code>git clone https://www.github.com/samuelhavron/obliv-c.git</code>, or download and unpack it from its <a href="https://github.com/samuelhavron/obliv-c/archive/linReg.zip">.zip</a> or
  <a href="https://github.com/samuelhavron/obliv-c/archive/linReg.tar.gz">.tar.gz</a> file.</li>
    <li>Get to the obliv-c directory with <code>cd obliv-c</code>.</li>
    <li>Run <code>./configure && make RELEASE=1</code>.</li>
  </ol>
  You are ready to go! Take a look at the code in the <a href="https://github.com/samuelhavron/obliv-c/tree/linReg/tutorial">GitHub tutorial directory</a> before writing your own programs.
  </p>
  <h3>Using Amazon Web Services?</h3>
      <p>Do you want to start testing your Obliv-C program over servers, but avoid the installation process? Use this (not yet linked) custom Amazon Machine Image (AMI) 
        and quickly launch EC2 instances with an Obliv-C environment ready to go.</p>
  
  <a id="linReg"></a>
  <h2>Testing out Obliv-C with data analysis program</h2>
  <p>You may have noticed a folder in the <a href="https://github.com/samuelhavron/obliv-c/tree/linReg/tutorial">tutorial directory</a> named 'olinReg'. 
    This is an implementation of linear regression, a tool that allows two parties to compute functions on their joint data. 
    See the <a href="https://github.com/samuelhavron/obliv-c/blob/linReg/tutorial/olinReg/README.md">README</a> to get started.
    </p>

  <h2>How an Obliv-C program works, in 4 steps</h2>
  <p> After testing the code in the olinReg directory, you may want to start writing your own programs that take advantage
  of Obliv-C. This section will walkthrough the processes in the olinReg code needed to make a working program. It is organized
  chronologically, and emphasizes how to use Obliv-C functions and qualifiers. See the 
  <a href="http://samuelhavron.github.io/obliv-c/documentation">Obliv-C Documentation</a> page for information on how to use
  functions described below.
  
  <h3><font face="Arial">1. Connecting parties, storing arguments, and executing Yao's protocol</font></h3>
  <p><b>Storing Arguments to a Struct:</b>
  <br>Navigate to <code>main()</code> in 
  <a href="https://github.com/samuelhavron/obliv-c/blob/linReg/tutorial/olinReg/linReg.c">linReg.c</a>;
  notice the <code>#include &lt;obliv.h&gt;</code> needed
  to call Obliv-C's built in functions. <code>ProtocolDesc pd</code> is initialized, which is used as an argument for several
  essential functions. After storing commandline arguments
  (hostname, TCP port, party, and data filename) to <code>protocolIO io</code> (a struct defined in 
  <a href="https://github.com/samuelhavron/obliv-c/blob/linReg/tutorial/olinReg/linReg.h">linReg.h</a>),
  a connection must be established between
  the two parties.
  <br><br>
  <b>Connecting parties:</b>
  <pre><code> 	... 
    const char *remote_host = strtok(argv[1], ":"); // parse hostname from cmdline arg
    const char *port = strtok(NULL, ":"); // parse port name from cmdline arg
    ProtocolDesc pd;
    ...
    if(argv[2][0] == '1') { // if the cmdline argument for party is 1
      if(protocolAcceptTcp2P(&pd,port)!=0) { 
	log_err("TCP accept from %s failed\n", remote_host);
	exit(1);
      }
    }
    else { // if the commandline argument for party is not 1
      if(protocolConnectTcp2P(&pd,remote_host,port)!=0) {
	log_err("TCP connect to %s failed\n", remote_host);
	exit(1);
	}
    }
    ...
    currentParty = (argv[2][0]=='1'?1:2);
    setCurrentParty(&pd, currentParty);</code></pre>
  The first party calls <code>protocolAcceptTcp2P()</code> to listen for a connection (use of <code>log_err()</code>
  is specific to <a href="https://github.com/samuelhavron/obliv-c/blob/linReg/tutorial/olinReg/dbg.h">dbg.h</a>
  and is not necessary to include in your own files for the purpose of making an Obliv-C program. The important
  takeaway from the above code snippet is that the accept and connect functions were called by the appropriate parties). 
  Then, the second party calls <code>protocolConnectTcp2P()</code>, 
  supplying the hostname from the commandline argument and connecting to
  the first party. After a connection is made,
  <code>setCurrentParty()</code> is called, which allows the <code>ProtocolDesc pd</code> 
  to keep track of parties.
  <br><br>
  <b>Executing Yao's Protocol:</b>
  <pre><code>// Execute Yao protocol and cleanup
  execYaoProtocol(&pd, linReg, &io); // starts 'linReg()'
  cleanupProtocol(&pd);</code></pre>
  <br>Now, <code>execYaoProtocol()</code> is called; 
  this function begins linReg.oc's code at the supplied
  function name: linReg().
  </p>
  <h3><font face="Arial">2. Loading local data and sharing obliv qualified data</font></h3>
  <p></p>
  
  <h3><font face="Arial">3. Computing linear regression and using fixed point math</font></h3>
  <p></p>
  
  <h3><font face="Arial">4. Revealing results, cleaning up</font></h3>
  <p></p>
    
  </p>
  <p><a href="#top">Go to top</a></p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/samuelhavron/obliv-c/archive/linReg.zip" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/samuelhavron/obliv-c/archive/linReg.tar.gz" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/samuelhavron/obliv-c"></a> is maintained by <a href="https://github.com/samuelhavron">samuelhavron</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
