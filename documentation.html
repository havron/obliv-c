<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Obliv-C Tutorial by samuelhavron</title>
  </head>

  <body>
    <a name="top"></a>
    <header>
      <div class="inner">
        <h1>Obliv-C Docs</h1>
        <a href="https://github.com/samuelhavron/obliv-c" class="button"><small>View project on</small> GitHub</a>
         <ul id="nav">
      <li><a href="http://samuelhavron.github.io">Home</a></li>
      <li><a href="http://samuelhavron.github.io/obliv-c">Obliv-C Tutorial</a></li>
      <li><a href="http://samuelhavron.github.io/obliv-c/documentation">Obliv-C Documentation</a></li>
      <li><a href="http://samuelhavron.github.io/contact">Contact</a></li>
      <li><a href="http://samuelhavron.github.io/about">About</a></li>
   </ul>
   
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
  <h1>Documentation for Obliv-C</h1>
  <h2>About this Documentation</h2>
  <p>The below documentation of Obliv-C protocols, functions, qualifiers, and other aspects of the language is 
  by no means comprehensive, nor is it the standard documentation for the Obliv-C language.
  The documentation is included for the sole purpose of making it simpler for users to understand how to write programs 
  in Obliv-C successfully, and uses an informal tone to achieve this purpose. See this 
  <a href="http://goo.gl/TXzxD0">language primer</a> 
  for information not covered in this documentation or in this site's <a href="http://samuelhavron.github.io/obliv-c">tutorial</a>.
  <a href="http://samuelhavron.github.io/contact">Contact the author</a> of the documentation 
  with any issues, corrections, or queries.</p>
  
  <h2>General Usage</h2>
  <h3><font face="Arial">Use of tname</font></h3>
  <p>Valid substitutions for <code>tname</code> are bool, char, int, short, long, or long long, depending on what data type
  you are need. <code>&lt;Tname&gt;</code> means to substitute in a valid type with the first character of the type capitalized. 
  The <code>obliv</code> qualifier is not valid for float or double. 
  Use fixed point arithmetic as a workaround for these data types.</p>
  
  <h3><font face="Arial">The obliv qualifier</font></h3>
  <p>The <code>obliv</code> qualifier should be declared on any variable that is supposed to 
  depend on unknown inputs in any way; <code>obliv</code> qualified values implement secure encryption on the variable, and
  can only be declared in an Obliv-C file (.oc). Supported data types for the <code>obliv</code> qualifier
  are bool, int, char, short, long, and long long. Non-obliv values can be implicitly converted into obliv, 
  but obliv values cannot be implicitly converted to non-obliv. Doing this requires <code>revealObliv&lt;Tname&gt;()</code> to be called.
  </p>
  
  <h2>C Functions</h2>
  <h3><font face="Arial">void cleanupProtocol(ProtocolDesc* pd)</font></h3>
  <p>C file; requires <code>#include &lt;obliv.h&gt;</code>. Call this function in your C file after execYaoProtocol() has been called. This function will clean up the ProtocolDesc.</p>
  <h3><font face="Arial">void execYaoProtocol(ProtocolDesc* pd, protocol_run start, void* arg)</font></h3>
  <p>C file; requires <code>#include &lt;obliv.h&gt;</code>. Call this function in your C file's main() function to execute the Yao protocol. 
  Supply the starting function name (without parentheses) in the Obliv-C file as
  the parameter for <code>protocol_run start</code>. Supply any arguments for the Obliv-C starting function in 
  <code>void* arg</code>; pass in a struct to supply multiple parameters. Before calling this function, establish a connection
  between parties with protocolAcceptTcp2P() and protocolConnectTcp2P(), and call setCurrentParty().
  </p>
  
  <h3><font face="Arial">int protocolAcceptTcp2P(ProtocolDesc* pd, const char* port)</font></h3>
  <p>C file; requires <code>#include &lt;obliv.h&gt;</code>. The first party calls this function to listen for a second party 
  on the supplied port parameter. Use conditional logic to ensure only the first party calls this function.</p>
  
  <h3><font face="Arial">int protocolConnectTcp2P(ProtocolDesc* pd, const char* server, const char* port)</font></h3>
  <p>
    C file; requires <code>#include &lt;obliv.h&gt;</code>. The second party should call this function
    after the first party calls protocolAcceptTcp2P(); 
    use conditional logic to ensure this. Supply either 'localhost', the IP address, or the DNS name of the 
    first party to the <code>const char* server</code> parameter.
  </p>
  
  <h3><font face="Arial">void setCurrentParty(ProtocolDesc* pd, int party)</font></h3>
  <p>C file; requires <code>#include &lt;obliv.h&gt;</code>. Sets the proper parties into the ProtocolDesc. 
  Call this before calling execYaoProtocol().</p>
  
  <h2>Obliv-C Functions</h2>
  
  <h3><font face="Arial">obliv tname feedObliv&lt;Tname&gt;(tname v, int party)</font></h3>
  <p>Obliv-C file; requires <code>#include &lt;obliv.oh&gt;</code>. This function returns an <code>obliv</code> qualified 
  <code>tname v</code> from the specified party to both parties. 
  Floating point numbers are not currently supported by the <code>obliv</code> qualifier. 
  <br> Sample code for using this function to feed an int array from the sepecified party into an obliv int array to both parties:
  <pre><code>void toObliv(int n, obliv int *oa, int *a, int party) {
     int i, res;
     for(i = 0; i < n; i++) {
       oa[i] = feedOblivInt(a[i], party);
     }
    }</code></pre>
  </p>
  
   <h3><font face="Arial">tname ocBroadcast&lt;Tname&gt;(tname v, int source)</font></h3>
  <p>Obliv-C file; requires <code>#include &lt;obliv.oh&gt;</code>. Returns v from the specified source (party). 
  This function allows non-obliv data to be transferred across parties, similar to <code>feedOblivTname()</code>.
  </p>
  
  <h3><font face="Arial">bool revealObliv&lt;Tname&gt;(tname* dest, obliv tname src, int party)</font></h3>
  <p>Obliv-C file; requires <code>#include &lt;obliv.oh&gt;</code>. Return value true means <code>dest</code> was written to.
  <code>party</code> indicates which party will receive the revealed obliv value; enter 0 for all parties to receive the revealed value.
  It is typical for this function to be called towards the end of a Yao protocol.
  </p>
  
  <p><a href="#top">Go to top</a></p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/samuelhavron/obliv-c/archive/linReg.zip" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/samuelhavron/obliv-c/archive/linReg.tar.gz" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/samuelhavron/obliv-c"></a> is maintained by <a href="https://github.com/samuelhavron">samuelhavron</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
